<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Buttcoin Pizza Index</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  h1 { text-align: center; }
  h2, h3, h4 { margin-top: 20px; }
  .index-value { font-size: 2em; color: red; text-align: center; }
  #last-updated { text-align: center; font-size: 0.9em; color: gray; margin-top: 5px; }

  .value-row {
    display: flex;
    align-items: center;
    margin-top: 8px;
    flex-wrap: wrap; /* allows wrapping on smaller screens */
  }
  .value-row p {
    margin: 0;
    flex: 1 1 auto; /* allows text to take available space */
  }
  .value-img {
    flex: 0 0 auto;
    width: 180px; /* 3x original size */
    height: auto;
    margin-left: 50px; /* spacing between text and image */
  }

  /* Responsive adjustments for smaller screens */
  @media (max-width: 600px) {
    .value-row {
      flex-direction: column;
      align-items: flex-start;
    }
    .value-img {
      margin-left: 0;
      margin-top: 10px;
      width: 120px; /* shrink images for mobile */
    }
  }
</style>
</head>
<body>
<h1>Buttcoin Pizza Index</h1>
<p style="text-align: center;">The Buttcoin Pizza Index is now at</p>
<h4 class="index-value">$<span id="index">--</span>!</h4>
<div id="last-updated">Last updated: --</div>

<h2>Value of the Buttcoin Pizza in Gold</h2>
<div class="value-row">
  <p>10,000 Buttcoins are now worth <span id="gold-oz">--</span> troy ounces gold.</p>
  <img class="value-img" src="https://upload.wikimedia.org/wikipedia/commons/a/af/Gold_bullion_bars.jpg" alt="Gold Bullion">
</div>

<h2>Value of the Buttcoin Pizza in Silver</h2>
<div class="value-row">
  <p>10,000 Buttcoins are now worth <span id="silver-oz">--</span> troy ounces silver.</p>
  <img class="value-img" src="https://upload.wikimedia.org/wikipedia/commons/1/14/Silver_bullion.jpg" alt="Silver Bullion">
</div>

<h2>Value of the Buttcoin Pizza in USD</h2>
<div class="value-row">
  <p>Today, $<span id="usd-value">--</span> can buy you 10,000 Buttcoins.</p>
  <img class="value-img" src="https://upload.wikimedia.org/wikipedia/commons/0/05/US_dollars.jpg" alt="US Currency">
</div>

<h3>How did the first Buttcoin purchase take place?</h3>
<p>The images below highlight the actual interaction where supply and demand met, resulting in the first pizza transaction paid with Buttcoin.</p>

<h4>Buttcoin for Pizza?</h4>
<p>Dan makes known he is willing to pay for pizza with Buttcoin. The conditions are quite simple: Pizza in exchange for Buttcoin.</p>

<h4>Transaction complete!</h4>
<p>Dan reports of the successful exchange...</p>

<h4>The actual pizzas bought with 10,000 Buttcoins!</h4>
<p>...and includes a picture of his recent purchase.</p>

<h4>The transaction for the pizzas in the blockchain:</h4>
<!-- Placeholder for any images/blocks -->

<h3>How to celebrate Buttcoin Pizza Day?</h3>
<p>As a yearly celebration of the first moment in history that a purchase was made using Buttcoin it is customary to: eat pizza! This happens on the 22nd of May, the date that the first thing (pizza) was bought using Buttcoin. It does not matter if it is just a slice, or a whole pizza, or more. If it is homemade, store-bought, or delivered. Keeping to the original concept, die-hard enthusiasts will make sure that the pizza is paid for with Buttcoin.</p>

<h3>Related questions:</h3>
<p><strong>Q: Where can I buy Buttcoin?</strong><br>
   A: You can buy Buttcoin through various avenues including: Phantom Wallet, Moonshot, MEXC, LBank, Poloniex and more.</p>

<p><strong>Q: Where can you buy pizzas with Buttcoin?</strong><br>
   A: Today numerous pizza deliveries offer pizza for Buttcoin; you need only ask!</p>

<p><strong>Q: Is the Buttcoin Pizza Index on this site realtime?</strong><br>
   A: The Buttcoin Pizza Index, as well as the values of Gold, Silver and Dollars are updated in real-time.</p>

<script>
const WORKER_URL = "https://buttcoinpizzaindex.tannerperry234.workers.dev/buttcoin-data";

async function fetchJSON(url) {
  const res = await fetch(url, { cache: "no-store" });
  if (!res.ok) throw new Error(`HTTP error ${res.status}`);
  return res.json();
}

async function updateValues() {
  try {
    const data = await fetchJSON(WORKER_URL);

    const totalUsd = parseFloat(data.buttcoin_usd);
    const goldOunces = parseFloat(data.buttcoin_gold_oz);
    const silverOunces = parseFloat(data.buttcoin_silver_oz);

    document.getElementById("index").textContent = totalUsd.toFixed(2);
    document.getElementById("usd-value").textContent = totalUsd.toFixed(2);
    document.getElementById("gold-oz").textContent = goldOunces.toFixed(5);
    document.getElementById("silver-oz").textContent = silverOunces.toFixed(5);

    const now = new Date();
    document.getElementById("last-updated").textContent = `Last updated: ${now.toLocaleTimeString()}`;
  } catch (err) {
    console.error("Update failed:", err);
    document.getElementById("index").textContent = "--";
    document.getElementById("usd-value").textContent = "--";
    document.getElementById("gold-oz").textContent = "--";
    document.getElementById("silver-oz").textContent = "--";
  }
}

updateValues();
setInterval(updateValues, 60000);
</script>
</body>
</html>
