<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Buttcoin Pizza Index</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: #f8f8f8;
      color: #333;
      text-align: center;
      padding: 20px;
      margin: 0;
      line-height: 1.6;
    }
    h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      color: #ff6f00;
    }
    h2 {
      font-size: 1.5rem;
      color: #555;
      margin: 10px 0;
    }
    .pizza-image {
      max-width: 100%;
      height: auto;
      margin: 20px auto;
      display: block;
      max-width: 600px;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
    }
    .item-table {
      margin: 20px auto;
      border-collapse: collapse;
      width: 90%;
      max-width: 600px;
      background: #fff;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
    .item-table th, .item-table td {
      padding: 12px;
      border: 1px solid #ddd;
      text-align: center;
    }
    .item-table th {
      background-color: #ff6f00;
      color: #fff;
      font-weight: bold;
    }
    .item-table td {
      font-size: 1rem;
    }
    .price {
      font-weight: bold;
      color: #333;
    }
    .note {
      margin-top: 20px;
      color: #666;
      font-size: 0.9rem;
      font-style: italic;
    }
    .history {
      margin: 30px auto;
      max-width: 600px;
      text-align: left;
      font-size: 1rem;
      color: #444;
    }
    .history p {
      margin: 10px 0;
    }
    .error {
      color: #d32f2f;
      font-weight: bold;
    }
    @media (max-width: 600px) {
      h1 { font-size: 2rem; }
      .item-table th, .item-table td { font-size: 0.9rem; padding: 8px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Buttcoin Pizza Index</h1>
    <h2>How Much is Your Buttcoin Worth in Pizza?</h2>
    <img src="https://via.placeholder.com/600x300.png?text=Buttcoin+Pizza+Index" alt="Buttcoin Pizza Index Infographic" class="pizza-image" />
    
    <div class="history">
      <p>Inspired by the legendary Bitcoin Pizza Day, where 10,000 BTC bought two pizzas, we present the Buttcoin Pizza Index. This index tracks how many pizzas (or pizza ingredients) you could buy today with Buttcoin, a token on the Solana blockchain.</p>
      <p>Back in 2010, those 10,000 BTC were worth about $41. Today, see what 1,000 Buttcoin (or less) can get you in pizza terms!</p>
    </div>
    
    <table class="item-table">
      <thead>
        <tr>
          <th>Item</th>
          <th>Buttcoin Amount</th>
          <th>USD Value</th>
        </tr>
      </thead>
      <tbody id="pizzaItems">
        <tr><td>Whole Pizza</td><td>1000</td><td class="price">Loading...</td></tr>
        <tr><td>Pizza Slice</td><td>125</td><td class="price">Loading...</td></tr>
        <tr><td>Cheese Portion</td><td>50</td><td class="price">Loading...</td></tr>
        <tr><td>Pepperoni Portion</td><td>40</td><td class="price">Loading...</td></tr>
        <tr><td>Flour</td><td>30</td><td class="price">Loading...</td></tr>
        <tr><td>Tomato Sauce</td><td>20</td><td class="price">Loading...</td></tr>
      </tbody>
    </table>
    
    <p class="note">Prices update every 60 seconds based on live Buttcoin â†’ USD from DexScreener.</p>
  </div>

  <script>
    // DexScreener API URL for the Buttcoin token on Solana
    const apiUrl = "https://api.dexscreener.com/latest/dex/tokens/FasH397CeZLNYWkd3wWK9vrmjd1z93n3b59DssRXpump";

    async function updatePrices() {
      try {
        const response = await fetch(apiUrl);
        if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);
        const data = await response.json();
        
        // Access the first pair's USD price
        const priceUsd = parseFloat(data.pairs?.[0]?.priceUsd);
        if (!priceUsd) throw new Error("Price data not available");

        const rows = document.querySelectorAll("#pizzaItems tr");
        rows.forEach(row => {
          const amount = parseFloat(row.cells[1].innerText);
          const usdVal = priceUsd * amount;
          row.cells[2].innerText = `$${usdVal.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
          row.cells[2].classList.remove('error');
        });
      } catch (err) {
        console.error("Error fetching Buttcoin price:", err);
        document.querySelectorAll(".price").forEach(cell => {
          cell.innerText = "Error";
          cell.classList.add('error');
        });
      }
    }

    // Initial price update
    updatePrices();
    // Update every 60 seconds
    setInterval(updatePrices, 60000);
  </script>
</body>
</html>
